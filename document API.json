{"openapi":"3.1.0","info":{"title":"vocagame","version":"1.0.0"},"servers":[{"url":"http:\/\/localhost:8000\/api\/v1"}],"security":[{"http":[]}],"paths":{"\/logout":{"post":{"operationId":"logout","summary":"Logout the authenticated user and revoke their tokens","tags":["Auth"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Logout successful"}},"required":["message"]}}}}}}},"\/products":{"get":{"operationId":"products.list","summary":"Display a listing of the resource","tags":["Products"],"responses":{"200":{"description":"Array of `ProductsResource`","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#\/components\/schemas\/ProductsResource"}}},"required":["data"]}}}}}},"post":{"operationId":"products.store","summary":"Store a newly created resource in storage","tags":["Products"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"prices":{"type":"number"},"available":{"type":"string"}},"required":["name","prices","available"]}}}},"responses":{"201":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Product add successfully"}},"required":["message"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/products\/{id}":{"put":{"operationId":"products.update","summary":"Update the specified resource in storage","tags":["Products"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"prices":{"type":"number"},"available":{"type":"string"}},"required":["name","prices","available"]}}}},"responses":{"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Product not found"}},"required":["message"]}}}},"200":{"description":"`ProductsResource`","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/ProductsResource"}},"required":["data"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}},"delete":{"operationId":"products.delete","summary":"Remove the specified resource from storage","tags":["Products"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application\/json":{"schema":{"type":"object"}}}},"responses":{"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Product not found"}},"required":["message"]}}}},"204":{"description":"No content","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Product deleted successfully"}},"required":["message"]}}}},"403":{"description":"An error","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Error overview.","example":"Unauthorized action"}},"required":["message"]}}}}}}},"\/transaction":{"post":{"operationId":"transaction.buyitems","summary":"Buy items","tags":["Transaction"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"productId":{"type":"string"},"userId":{"type":"string"},"methodPayment":{"type":"string"},"amount":{"type":"number"}},"required":["productId","userId","methodPayment","amount"]}}}},"responses":{"201":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"wallet":{"$ref":"#\/components\/schemas\/TransactionResource"},"message":{"type":"string","example":"Successfully purchased product"}},"required":["wallet","message"]}}}},"404":{"description":"","content":{"application\/json":{"schema":{"anyOf":[{"type":"object","properties":{"message":{"type":"string","example":"Insufficient balance"}},"required":["message"]},{"type":"object","properties":{"message":{"type":"string","example":"Product not available"}},"required":["message"]}]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/users":{"get":{"operationId":"user.list","summary":"Display a listing of the resource","tags":["User"],"responses":{"200":{"description":"Array of `UserResource`","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#\/components\/schemas\/UserResource"}}},"required":["data"]}}}},"403":{"description":"An error","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Error overview.","example":"Unauthorized action"}},"required":["message"]}}}}}},"post":{"operationId":"user.store","summary":"Store a newly created resource in storage","tags":["User"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"level":{"type":"string","description":"'password'  => 'required|confirmed',\n'password_confirmation' => 'required|same:password',"}},"required":["name","email","level"]}}}},"responses":{"500":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Failed to create user"}},"required":["message"]}}}},"201":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User created successfully"}},"required":["message"]}}}},"400":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password confirmation does not match"}},"required":["message"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/users\/{id}":{"put":{"operationId":"user.update","summary":"Update the specified resource in storage","tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"level":{"type":"string","description":"'password'  => 'required|confirmed',\n'password_confirmation' => 'required|same:password',"}},"required":["name","email","level"]}}}},"responses":{"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found"}},"required":["message"]}}}},"200":{"description":"`UserResource`","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/UserResource"}},"required":["data"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}},"delete":{"operationId":"user.delete","summary":"Remove the specified resource from storage","tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application\/json":{"schema":{"type":"object"}}}},"responses":{"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found"}},"required":["message"]}}}},"204":{"description":"No content","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User deleted successfully"}},"required":["message"]}}}},"403":{"$ref":"#\/components\/responses\/AuthorizationException"}}}},"\/wallet":{"post":{"operationId":"wallet.store","summary":"Creates a new wallet for the given user","tags":["Wallet"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"userId":{"type":"number"}},"required":["userId"]}}}},"responses":{"201":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Wallet created successfully"}},"required":["message"]}}}},"409":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Wallet already exists"}},"required":["message"]}}}},"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Account not found"}},"required":["message"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/wallet\/data":{"post":{"operationId":"wallet.data","summary":"Get a user's wallet","tags":["Wallet"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"userId":{"type":"number"}},"required":["userId"]}}}},"responses":{"200":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"wallet":{"$ref":"#\/components\/schemas\/WalletResource"}},"required":["wallet"]}}}},"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Wallet not found"}},"required":["message"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/wallet\/topup":{"post":{"operationId":"wallet.topup","summary":"Deposits the given balance to the specified wallet","tags":["Wallet"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"walletId":{"type":"number"},"balance":{"type":"number"}},"required":["walletId","balance"]}}}},"responses":{"200":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"wallet":{"$ref":"#\/components\/schemas\/WalletResource"}},"required":["wallet"]}}}},"404":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Wallet not found"}},"required":["message"]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}},"\/wallet\/withdrawal":{"post":{"operationId":"wallet.withdrawal","summary":"Withdraws the specified amount from the specified wallet","tags":["Wallet"],"requestBody":{"content":{"application\/json":{"schema":{"type":"object","properties":{"walletId":{"type":"number"},"amount":{"type":"number"},"bank_name":{"type":["string","null"]},"account_number":{"type":["string","null"]}},"required":["walletId","amount"]}}}},"responses":{"200":{"description":"","content":{"application\/json":{"schema":{"type":"object","properties":{"wallet":{"$ref":"#\/components\/schemas\/WalletResource"}},"required":["wallet"]}}}},"404":{"description":"","content":{"application\/json":{"schema":{"anyOf":[{"type":"object","properties":{"message":{"type":"string","example":"Insufficient balance"}},"required":["message"]},{"type":"object","properties":{"message":{"type":"string","example":"Wallet not found"}},"required":["message"]}]}}}},"422":{"$ref":"#\/components\/responses\/ValidationException"}}}}},"components":{"securitySchemes":{"http":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"ProductsResource":{"type":"string","title":"ProductsResource"},"TransactionResource":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"balance":{"type":"string"}},"required":["id","userId","balance"],"title":"TransactionResource"},"UserResource":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"level":{"type":"string"},"active":{"type":"string"}},"required":["id","name","email","level","active"],"title":"UserResource"},"WalletResource":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"balance":{"type":"string"}},"required":["id","userId","balance"],"title":"WalletResource"}},"responses":{"ValidationException":{"description":"Validation error","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Errors overview."},"errors":{"type":"object","description":"A detailed description of each field that failed validation.","additionalProperties":{"type":"array","items":{"type":"string"}}}},"required":["message","errors"]}}}},"AuthorizationException":{"description":"Authorization error","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Error overview."}},"required":["message"]}}}}}}}